# AutoIntel-Squad 通用规则库

## 数据真实性核心规则（所有Agent必须遵守）

### Rule-1: 绝对禁止模拟数据
- **原则**：严格基于搜索结果，禁止模拟数据、占位符数据或训练集旧知识
- **要求**：所有信息必须通过WebFetch工具从真实网站获取
- **违反后果**：丢弃数据，记录违规，生成降级报告

### Rule-2: 强制引用要求
- **原则**：每条信息必须附带真实来源链接
- **要求**：无链接不得收录，链接必须可访问且与内容匹配
- **验证**：URL必须符合官网模式，可进行基础格式检查

### Rule-3: 日期真实性验证
- **原则**：每条信息必须有真实、可验证的发布日期
- **要求**：发布日期必须与来源网站显示一致
- **检查**：警惕编造日期，验证日期逻辑合理性

### Rule-4: 搜索真实性要求
- **原则**：必须使用WebFetch工具访问实际网站
- **要求**：不能依赖训练集知识或历史记忆
- **验证**：记录每个数据源访问状态（success/partial/restricted/timeout）

### Rule-5: 空结果处理
- **原则**：搜索结果为空时直接回复"无法获取今日真实数据"
- **要求**：允许空结果，不得编造内容填充
- **处理**：如果确实没有新内容，可报告"今日无重要更新"

### Rule-6: 历史信息禁止伪装
- **原则**：不得将历史信息修改日期后伪装成今日信息
- **要求**：保持时间戳真实性，不得篡改
- **检查**：同一事件的多时间版本需谨慎处理

## 质量保障规则

### Rule-7: 交叉验证要求
- **原则**：重要信息需从多个来源交叉验证
- **要求**：版本号、技术细节、发布时间需一致性检查
- **实施**：同一事件在多个媒体都有报道时，优先选择技术深度最高的来源

### Rule-8: 优先级顺序
- **原则**：官方渠道 > 权威媒体 > 备用媒体
- **要求**：优先尝试官方渠道，失败后降级
- **处理**：官方渠道返回403或超时，立即切换到权威媒体

### Rule-9: 关键词优化
- **原则**：搜索关键词必须包含具体技术细节和版本号
- **要求**：使用公司名+技术关键词+年份组合
- **示例**："Tesla FSD 2026年1月最新版本"、"华为ADS 4.0技术细节"

### Rule-10: 输出标准化
- **原则**：生成标准化的JSON输出，便于系统解析
- **要求**：遵循预定义的JSON格式模板
- **验证**：JSON必须可解析，包含所有必需字段

## 容错与健壮性规则

### Rule-11: 超时处理
- **原则**：实施超时控制和重试机制
- **配置**：默认超时300秒，最大重试2次，退避因子1.5
- **处理**：超时后记录状态，执行降级策略

### Rule-12: 部分失败处理
- **原则**：部分失败时继续执行可用数据
- **要求**：生成降级报告，注明数据缺失原因
- **策略**：continue_with_available模式

### Rule-13: 目录自动创建
- **原则**：若目录不存在，自动创建（mkdir -p）
- **要求**：确保输出路径有效，避免文件写入失败
- **验证**：创建后检查目录权限和可写性

### Rule-14: 错误透明记录
- **原则**：处理数据问题时必须透明记录
- **要求**：不得隐藏问题，在报告中注明数据质量
- **实施**：记录验证失败、访问问题、数据不一致

## 执行模式规则

### Rule-15: 意图优先原则
- **原则**：准确理解用户需求，选择最合适的执行模式
- **模式**：全量日报模式、定向搜索模式、深度分析模式、专项跟踪模式
- **判断**：基于用户输入关键词选择执行策略

### Rule-16: 智能调度原则
- **原则**：支持并行、串行、混合三种执行模式
- **默认**：并行模式（Agent A/B/C同时执行 → Agent D汇总）
- **控制**：使用任务依赖关系实现智能调度

## 引用方式
在Agent提示词中使用以下格式引用本规则库：
```
## Rules
请遵守AutoIntel-Squad通用规则库中的所有约束，特别是数据真实性核心规则。
完整规则参见：`agents_system/common/common_rules.md`
```

## 版本与更新
- **版本**：1.0 (共享模块初始版)
- **创建时间**：2026-01-26
- **适用范围**：所有AutoIntel-Squad Agent
- **更新策略**：集中修改，所有Agent同步生效